# OCI Production Environment Configuration
# Copy to .env.oci and populate with actual values
# Secrets (DB_PASSWORD, IP_HASH_PEPPER, ADMIN_API_KEY) are loaded from ./secrets/ directory

NODE_ENV=production
HOST=0.0.0.0
PORT=3000
LOG_LEVEL=info

# Database connection (password loaded from secrets/db_password.txt)
# DATABASE_URL is constructed in docker-compose.oci.yml
# DATABASE_URL=postgresql://altcontext:${DB_PASSWORD}@postgres:5432/altcontext_prod

# Rate limiting
RATE_LIMIT_MAX=120
RATE_LIMIT_TIME_WINDOW=1 minute

# Session and linking heuristics
SESSION_INACTIVITY_MINUTES=30
HEURISTIC_LINK_WINDOW_MINUTES=15
ENABLE_HEURISTIC_LINKING=true

# CORS (update with actual frontend domain)
CORS_ALLOWED_ORIGINS=https://www.altcontext.com,https://altcontext.com

# Rollup configuration
ROLLUP_BATCH_DAYS=7
ROLLUP_DEFAULT_PROPERTY_ID=default

# Metrics caching
METRICS_SUMMARY_CACHE_TTL_MS=15000
METRICS_SUMMARY_CACHE_MAX_ENTRIES=128
METRICS_USE_MATERIALIZED_VIEW=false
METRICS_MATERIALIZED_VIEW_NAME=metrics_daily_summary_mv

# Privacy compliance (PIPEDA/CASL)
PRIVACY_CONTACT_EMAIL=privacy@altcontext.com
